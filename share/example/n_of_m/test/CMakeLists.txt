# mirko.rahn@itwm.fraunhofer.de

fhg_add_test (test.cpp
  PROJECT share_example_n_of_m
  BOOST_UNIT_TEST
  INCLUDE_DIRECTORIES PRIVATE "${CMAKE_SOURCE_DIR}"
  ARGS --gspc-home "${CMAKE_INSTALL_PREFIX}"
       --source-directory "${CMAKE_CURRENT_SOURCE_DIR}/../"
       --command "${CMAKE_CURRENT_BINARY_DIR}/demo.bin"
       --shared-directory "${SHARED_DIRECTORY_FOR_TESTS}"
  LINK_LIBRARIES gspc
                 test-utilities
                 fhg-util
                 ${Boost_PROGRAM_OPTIONS_LIBRARY}
                 ${Boost_FILESYSTEM_LIBRARY}
  DEPENDS demo.bin
  REQUIRES_INSTALLATION
  REQUIRES_RIF
)


add_executable (demo.bin demo.c)
