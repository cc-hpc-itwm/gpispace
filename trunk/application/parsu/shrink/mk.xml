#!/bin/bash

FILE_INPUT=${1:?}
TYPE_INPUT=${2:?}
FILE_OUTPUT=${3:?}
TYPE_OUTPUT=${4:?}
CMD=${5:?}
SHMEM_PER_NODE=${6:?}
GPI_MEM_PER_NODE=${7:?}
BUILD=${8:?}

`which sed`                                  \
  "s|@SHMEM_PER_NODE@|${SHMEM_PER_NODE}|     \
  ;s|@GPI_MEM_PER_NODE@|${GPI_MEM_PER_NODE}| \
  ;s|@CMD@|${CMD}|                           \
  ;s|@FILE_INPUT@|${FILE_INPUT}|             \
  ;s|@FILE_OUTPUT@|${FILE_OUTPUT}|           \
  ;s|@TYPE_INPUT@|${TYPE_INPUT}|             \
  ;s|@TYPE_OUTPUT@|${TYPE_OUTPUT}|           \
  ;s|@BUILD@|${BUILD}|                       "
