<defun name="update_two">

  <include-structs href="types.xml"/>

  <in name="file_with_config" type="string" place="file_with_config"/>
  <in name="file_with_mask" type="string" place="file_with_mask"/>
  <out name="done" type="control" place="done"/>

  <net>
    <place name="file_with_config" type="string"/>
    <place name="file_with_mask" type="string"/>
    <place name="config" type="config"/>
    <place name="done" type="control"/>

    <transition name="one">
      <include-function href="update_salt_mask_output_config.xml"/>
      <connect-in port="file_with_config" place="file_with_config"/>
      <connect-in port="file_with_mask" place="file_with_mask"/>
      <connect-out port="config" place="config"/>
    </transition>

    <transition name="two">
      <defun>
        <in name="config" type="config"/>
        <out name="done" type="control"/>
        <module name="ufbmig_update_two" function="done update_two (config)">
          <cinclude href="fhglog/fhglog.hpp"/>
          <code><![CDATA[
            MLOG (INFO, "update_two with config " << config);

            return control();
          ]]></code>
        </module>
      </defun>
      <connect-in port="config" place="config"/>
      <connect-out port="done" place="done"/>
    </transition>
  </net>
</defun>
