#!/bin/bash

FILE_INPUT=${1:?}; shift
TYPE_INPUT=${1:?}; shift
FILE_OUTPUT=${1:?}; shift
TYPE_OUTPUT=${1:?}; shift
SHMEM_PER_NODE=${1:?}; shift
GPI_MEM_PER_NODE=${1:?}; shift
BUILD=${1:?}; shift
BOOST_ROOT=${1:?}; shift

NX=${1:?}; shift
NY=${1:?}; shift
NZ=${1:?}; shift

DX=${1:?}; shift
DY=${1:?}; shift
DZ=${1:?}; shift

VPFILE=${1:?}; shift
EFILE=${1:?}; shift
DFILE=${1:?}; shift

ZMAX=${1:?}; shift

LX=${1:?}; shift
LY=${1:?}; shift

F1=${1:?}; shift
F2=${1:?}; shift
F3=${1:?}; shift
F4=${1:?}; shift

PAD=${1:?}; shift

LATSAMPLESPERWAVE=${1:?}; shift
VERTSAMPLESPERWAVE=${1:?}; shift

MEDIUM=${1:ISO}; shift
PROPAGATOR=${1:PS}; shift

`which sed`                                   \
  "s|@SHMEM_PER_NODE@|${SHMEM_PER_NODE}|g     \
  ;s|@GPI_MEM_PER_NODE@|${GPI_MEM_PER_NODE}|g \
  ;s|@FILE_INPUT@|${FILE_INPUT}|g             \
  ;s|@FILE_OUTPUT@|${FILE_OUTPUT}|g           \
  ;s|@TYPE_INPUT@|${TYPE_INPUT}|g             \
  ;s|@TYPE_OUTPUT@|${TYPE_OUTPUT}|g           \
  ;s|@BUILD@|${BUILD}|g                       \
  ;s|@BOOST_ROOT@|${BOOST_ROOT}|g             \
  ;s|@NX@|${NX}|g \
  ;s|@NY@|${NY}|g \
  ;s|@NZ@|${NZ}|g \
  ;s|@DX@|${DX}|g \
  ;s|@DY@|${DY}|g \
  ;s|@DZ@|${DZ}|g \
  ;s|@VPFILE@|${VPFILE}|g \
  ;s|@EFILE@|${EFILE}|g \
  ;s|@DFILE@|${DFILE}|g \
  ;s|@ZMAX@|${ZMAX}|g \
  ;s|@LX@|${LX}|g \
  ;s|@LY@|${LY}|g \
  ;s|@F1@|${F1}|g \
  ;s|@F2@|${F2}|g \
  ;s|@F3@|${F3}|g \
  ;s|@F4@|${F4}|g \
  ;s|@PAD@|${PAD}|g \
  ;s|@LATSAMPLESPERWAVE@|${LATSAMPLESPERWAVE}|g \
  ;s|@VERTSAMPLESPERWAVE@|${VERTSAMPLESPERWAVE}|g \
  ;s|@MEDIUM@|${MEDIUM}|g \
  ;s|@PROPAGATOR@|${PROPAGATOR}|g "
