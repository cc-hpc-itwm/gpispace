<?xml version="1.0" encoding="UTF-16" standalone="no" ?>
<workflow xmlns="http://www.gridworkflow.org/gworkflowdl" ID="test_2" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.gridworkflow.org/gworkflowdl http://www.gridworkflow.org/kwfgrid/src/xsd/gworkflowdl_2_0.xsd">

  <description>load trace headers - calc geo reference data - select project data</description>

  <property name="status">COMPLETED</property>

  <place ID="FRD">
    <property name="simulation.memory">15000</property>
    <token>
      <data>
        <volume>FRD_10</volume>
      </data>
    </token>
  </place>

  <place ID="GRD">
    <property name="simulation.memory">8000</property>
    <token>
      <data>
        <volume>GRD_8</volume>
      </data>
    </token>
  </place>

  <place ID="THD">
    <property name="simulation.memory">5000</property>
    <token>
      <data>
        <volume>THD_5</volume>
      </data>
    </token>
  </place>

  <place ID="inputFile"/>

  <place ID="projectDataSelected">
    <token>
      <control>true</control>
    </token>
  </place>

  <place ID="referenceDataCalculated"/>

  <place ID="selectProjectData_parameter"/>

  <place ID="traceHeadersLoaded"/>

  <transition ID="loadTraceHeaders">
    <description>Load Trace Headers</description>
    <inputPlace edgeExpression="file" placeID="inputFile"/>
    <outputPlace edgeExpression="thd" placeID="THD"/>
    <outputPlace placeID="traceHeadersLoaded"/>
    <operation>
      <oc:operationClass xmlns:oc="http://www.gridworkflow.org/gworkflowdl/operationclass" name="loadTraceHeaders">
        <oc:operationCandidate operationName="loadTraceHeaders" resourceName="phastgrid" selected="true" type="psp"/>
      </oc:operationClass>
    </operation>
  </transition>

  <transition ID="calcGeoReferenceData">
    <description>Calculate Geo Reference Data</description>
    <readPlace edgeExpression="thd" placeID="THD"/>
    <inputPlace placeID="traceHeadersLoaded"/>
    <outputPlace edgeExpression="grd" placeID="GRD"/>
    <outputPlace placeID="referenceDataCalculated"/>
    <operation>
      <oc:operationClass xmlns:oc="http://www.gridworkflow.org/gworkflowdl/operationclass" name="calcGeoReferenceData">
        <oc:operationCandidate operationName="calcGeoReferenceData" resourceName="phastgrid" selected="true" type="psp"/>
      </oc:operationClass>
    </operation>
  </transition>

  <transition ID="selectProjectData">
    <description>Select Project Data</description>
    <readPlace edgeExpression="grd" placeID="GRD"/>
    <inputPlace edgeExpression="parameter" placeID="selectProjectData_parameter"/>
    <inputPlace placeID="referenceDataCalculated"/>
    <outputPlace edgeExpression="frd" placeID="FRD"/>
    <outputPlace placeID="projectDataSelected"/>
    <operation>
      <oc:operationClass xmlns:oc="http://www.gridworkflow.org/gworkflowdl/operationclass" name="selectProjectData">
        <oc:operationCandidate operationName="selectProjectData" resourceName="phastgrid" selected="true" type="psp"/>
      </oc:operationClass>
    </operation>
  </transition>

</workflow>
