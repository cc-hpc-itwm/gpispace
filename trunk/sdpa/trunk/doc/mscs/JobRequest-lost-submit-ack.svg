<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" version="1.1"
 xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges"
 stroke-width="1" text-rendering="geometricPrecision">
<text x="150" y="14" textLength="21" font-family="Helvetica" font-size="10" fill="black" text-anchor="middle">
Orch
</text>
<text x="450" y="14" textLength="28" font-family="Helvetica" font-size="10" fill="black" text-anchor="middle">
Sched
</text>
<text x="750" y="14" textLength="17" font-family="Helvetica" font-size="10" fill="black" text-anchor="middle">
Agg
</text>
<text x="1050" y="14" textLength="31" font-family="Helvetica" font-size="10" fill="black" text-anchor="middle">
devnull
</text>
<line x1="150" y1="20" x2="150" y2="45" stroke="black"/>
<line x1="450" y1="20" x2="450" y2="45" stroke="black"/>
<line x1="750" y1="20" x2="750" y2="45" stroke="black"/>
<line x1="1050" y1="20" x2="1050" y2="45" stroke="black"/>
<line x1="150" y1="69" x2="150" y2="70" stroke="black"/>
<line x1="450" y1="69" x2="450" y2="70" stroke="black"/>
<line x1="750" y1="69" x2="750" y2="70" stroke="black"/>
<line x1="1050" y1="45" x2="1050" y2="70" stroke="black"/>
<line x1="8" y1="45" x2="892" y2="45" stroke="black"/>
<line x1="8" y1="69" x2="892" y2="69" stroke="black"/>
<line x1="8" y1="45" x2="8" y2="69" stroke="black"/>
<line x1="892" y1="45" x2="892" y2="69" stroke="black"/>
<text x="355" y="59" textLength="188" font-family="Helvetica" font-size="10" fill="black">
request for a new job (submitAck gets lost)
</text>
<line x1="150" y1="70" x2="150" y2="95" stroke="black"/>
<line x1="450" y1="70" x2="450" y2="95" stroke="black"/>
<line x1="750" y1="70" x2="750" y2="95" stroke="black"/>
<line x1="1050" y1="70" x2="1050" y2="95" stroke="black"/>
<line x1="150" y1="95" x2="150" y2="120" stroke="black"/>
<line x1="450" y1="95" x2="450" y2="120" stroke="black"/>
<line x1="750" y1="95" x2="750" y2="120" stroke="black"/>
<line x1="1050" y1="95" x2="1050" y2="120" stroke="black"/>
<line x1="750" y1="107" x2="150" y2="107" stroke="black"/>
<line x1="150" y1="107" x2="160" y2="113" stroke="black"/>
<text x="389" y="105" textLength="120" font-family="Helvetica" font-size="10" fill="black">
requestJob(last_job_id="-")
</text>
<line x1="150" y1="120" x2="150" y2="145" stroke="black"/>
<line x1="450" y1="120" x2="450" y2="145" stroke="black"/>
<line x1="750" y1="120" x2="750" y2="145" stroke="black"/>
<line x1="1050" y1="120" x2="1050" y2="145" stroke="black"/>
<line x1="150" y1="132" x2="450" y2="132" stroke="black"/>
<polygon fill="black" points="450,132 440,138 440,126"/>
<text x="207" y="130" textLength="184" font-family="Helvetica" font-size="10" fill="black">
get_next_job(worker_id=Agg, last_job_id)
</text>
<line x1="150" y1="145" x2="150" y2="170" stroke="black"/>
<line x1="450" y1="145" x2="450" y2="170" stroke="black"/>
<line x1="750" y1="145" x2="750" y2="170" stroke="black"/>
<line x1="1050" y1="145" x2="1050" y2="170" stroke="black"/>
<text x="493" y="159" textLength="212" font-family="Helvetica" font-size="10" fill="black">
the scheduler leaves job-1 in the pending queue
</text>
<line x1="75" y1="157" x2="492" y2="157" stroke="black" stroke-dasharray="2,2"/>
<line x1="708" y1="157" x2="1125" y2="157" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="170" x2="150" y2="195" stroke="black"/>
<line x1="450" y1="170" x2="450" y2="195" stroke="black"/>
<line x1="750" y1="170" x2="750" y2="195" stroke="black"/>
<line x1="1050" y1="170" x2="1050" y2="195" stroke="black"/>
<line x1="450" y1="182" x2="150" y2="182" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="150,182 160,188 160,176"/>
<text x="285" y="180" textLength="28" font-family="Helvetica" font-size="10" fill="black">
Job(1)
</text>
<line x1="150" y1="195" x2="150" y2="220" stroke="black"/>
<line x1="450" y1="195" x2="450" y2="220" stroke="black"/>
<line x1="750" y1="195" x2="750" y2="220" stroke="black"/>
<line x1="1050" y1="195" x2="1050" y2="220" stroke="black"/>
<line x1="150" y1="207" x2="750" y2="207" stroke="black"/>
<line x1="750" y1="207" x2="740" y2="213" stroke="black"/>
<text x="404" y="205" textLength="90" font-family="Helvetica" font-size="10" fill="black">
submitJob(job_id=1)
</text>
<line x1="150" y1="220" x2="150" y2="245" stroke="black"/>
<line x1="450" y1="220" x2="450" y2="245" stroke="black"/>
<line x1="750" y1="220" x2="750" y2="245" stroke="black"/>
<line x1="1050" y1="220" x2="1050" y2="245" stroke="black"/>
<line x1="750" y1="232" x2="150" y2="232" stroke="black"/>
<line x1="150" y1="232" x2="160" y2="238" stroke="black"/>
<text x="396" y="230" textLength="106" font-family="Helvetica" font-size="10" fill="black">
submitJobAck(job_id=1)
</text>
<line x1="150" y1="245" x2="150" y2="270" stroke="black"/>
<line x1="450" y1="245" x2="450" y2="270" stroke="black"/>
<line x1="750" y1="245" x2="750" y2="270" stroke="black"/>
<line x1="1050" y1="245" x2="1050" y2="270" stroke="black"/>
<text x="440" y="259" textLength="319" font-family="Helvetica" font-size="10" fill="black">
now it is safe to move the job from the pending into the submitted queue
</text>
<line x1="75" y1="257" x2="439" y2="257" stroke="black" stroke-dasharray="2,2"/>
<line x1="762" y1="257" x2="1125" y2="257" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="270" x2="150" y2="295" stroke="black"/>
<line x1="450" y1="270" x2="450" y2="295" stroke="black"/>
<line x1="750" y1="270" x2="750" y2="295" stroke="black"/>
<line x1="1050" y1="270" x2="1050" y2="295" stroke="black"/>
<line x1="150" y1="282" x2="450" y2="282" stroke="black"/>
<polygon fill="black" points="450,282 440,288 440,276"/>
<text x="212" y="280" textLength="175" font-family="Helvetica" font-size="10" fill="black">
acknowledge(worker_id=Agg, job_id=1)
</text>
<line x1="150" y1="295" x2="150" y2="320" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="295" x2="450" y2="320" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="295" x2="750" y2="320" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="295" x2="1050" y2="320" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="320" x2="150" y2="345" stroke="black"/>
<line x1="450" y1="320" x2="450" y2="345" stroke="black"/>
<line x1="750" y1="320" x2="750" y2="345" stroke="black"/>
<line x1="1050" y1="320" x2="1050" y2="345" stroke="black"/>
<text x="454" y="334" textLength="290" font-family="Helvetica" font-size="10" fill="black">
computation can take place but we may already ask for more jobs
</text>
<line x1="75" y1="332" x2="453" y2="332" stroke="black" stroke-dasharray="2,2"/>
<line x1="747" y1="332" x2="1125" y2="332" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="345" x2="150" y2="370" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="345" x2="450" y2="370" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="345" x2="750" y2="370" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="345" x2="1050" y2="370" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="370" x2="150" y2="395" stroke="black"/>
<line x1="450" y1="370" x2="450" y2="395" stroke="black"/>
<line x1="750" y1="370" x2="750" y2="395" stroke="black"/>
<line x1="1050" y1="370" x2="1050" y2="395" stroke="black"/>
<line x1="750" y1="382" x2="150" y2="382" stroke="black"/>
<line x1="150" y1="382" x2="160" y2="388" stroke="black"/>
<text x="388" y="380" textLength="122" font-family="Helvetica" font-size="10" fill="black">
requestJob(last_job_id="1")
</text>
<line x1="150" y1="395" x2="150" y2="420" stroke="black"/>
<line x1="450" y1="395" x2="450" y2="420" stroke="black"/>
<line x1="750" y1="395" x2="750" y2="420" stroke="black"/>
<line x1="1050" y1="395" x2="1050" y2="420" stroke="black"/>
<line x1="150" y1="407" x2="450" y2="407" stroke="black"/>
<polygon fill="black" points="450,407 440,413 440,401"/>
<text x="198" y="405" textLength="202" font-family="Helvetica" font-size="10" fill="black">
get_next_job(worker_id=Agg, last_job_id="1")
</text>
<line x1="150" y1="420" x2="150" y2="445" stroke="black"/>
<line x1="450" y1="420" x2="450" y2="445" stroke="black"/>
<line x1="750" y1="420" x2="750" y2="445" stroke="black"/>
<line x1="1050" y1="420" x2="1050" y2="445" stroke="black"/>
<text x="493" y="434" textLength="212" font-family="Helvetica" font-size="10" fill="black">
the scheduler leaves job-2 in the pending queue
</text>
<line x1="75" y1="432" x2="492" y2="432" stroke="black" stroke-dasharray="2,2"/>
<line x1="708" y1="432" x2="1125" y2="432" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="445" x2="150" y2="470" stroke="black"/>
<line x1="450" y1="445" x2="450" y2="470" stroke="black"/>
<line x1="750" y1="445" x2="750" y2="470" stroke="black"/>
<line x1="1050" y1="445" x2="1050" y2="470" stroke="black"/>
<line x1="450" y1="457" x2="150" y2="457" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="150,457 160,463 160,451"/>
<text x="285" y="455" textLength="28" font-family="Helvetica" font-size="10" fill="black">
Job(2)
</text>
<line x1="150" y1="470" x2="150" y2="495" stroke="black"/>
<line x1="450" y1="470" x2="450" y2="495" stroke="black"/>
<line x1="750" y1="470" x2="750" y2="495" stroke="black"/>
<line x1="1050" y1="470" x2="1050" y2="495" stroke="black"/>
<line x1="150" y1="482" x2="750" y2="482" stroke="black"/>
<line x1="750" y1="482" x2="740" y2="488" stroke="black"/>
<text x="404" y="480" textLength="90" font-family="Helvetica" font-size="10" fill="black">
submitJob(job_id=2)
</text>
<line x1="150" y1="495" x2="150" y2="520" stroke="black"/>
<line x1="450" y1="495" x2="450" y2="520" stroke="black"/>
<line x1="750" y1="495" x2="750" y2="520" stroke="black"/>
<line x1="1050" y1="495" x2="1050" y2="520" stroke="black"/>
<line x1="750" y1="507" x2="1050" y2="507" stroke="black"/>
<line x1="1050" y1="507" x2="1040" y2="513" stroke="black"/>
<text x="846" y="505" textLength="106" font-family="Helvetica" font-size="10" fill="black">
submitJobAck(job_id=2)
</text>
<line x1="150" y1="520" x2="150" y2="545" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="520" x2="450" y2="545" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="520" x2="750" y2="545" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="520" x2="1050" y2="545" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="545" x2="150" y2="570" stroke="black"/>
<line x1="450" y1="545" x2="450" y2="570" stroke="black"/>
<line x1="750" y1="545" x2="750" y2="570" stroke="black"/>
<line x1="1050" y1="545" x2="1050" y2="570" stroke="black"/>
<text x="379" y="559" textLength="441" font-family="Helvetica" font-size="10" fill="black">
the aggregator has already enough jobs, so we don't send more requests, but we still send lifeSigns
</text>
<line x1="75" y1="557" x2="378" y2="557" stroke="black" stroke-dasharray="2,2"/>
<line x1="823" y1="557" x2="1125" y2="557" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="570" x2="150" y2="595" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="570" x2="450" y2="595" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="570" x2="750" y2="595" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="570" x2="1050" y2="595" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="595" x2="150" y2="620" stroke="black"/>
<line x1="450" y1="595" x2="450" y2="620" stroke="black"/>
<line x1="750" y1="595" x2="750" y2="620" stroke="black"/>
<line x1="1050" y1="595" x2="1050" y2="620" stroke="black"/>
<line x1="750" y1="607" x2="150" y2="607" stroke="black"/>
<line x1="150" y1="607" x2="160" y2="613" stroke="black"/>
<text x="397" y="605" textLength="105" font-family="Helvetica" font-size="10" fill="black">
lifeSign(last_job_id="2")
</text>
<line x1="150" y1="620" x2="150" y2="645" stroke="black"/>
<line x1="450" y1="620" x2="450" y2="645" stroke="black"/>
<line x1="750" y1="620" x2="750" y2="645" stroke="black"/>
<line x1="1050" y1="620" x2="1050" y2="645" stroke="black"/>
<text x="440" y="634" textLength="319" font-family="Helvetica" font-size="10" fill="black">
now it is safe to move the job from the pending into the submitted queue
</text>
<line x1="75" y1="632" x2="439" y2="632" stroke="black" stroke-dasharray="2,2"/>
<line x1="762" y1="632" x2="1125" y2="632" stroke="black" stroke-dasharray="2,2"/>
<line x1="150" y1="645" x2="150" y2="670" stroke="black"/>
<line x1="450" y1="645" x2="450" y2="670" stroke="black"/>
<line x1="750" y1="645" x2="750" y2="670" stroke="black"/>
<line x1="1050" y1="645" x2="1050" y2="670" stroke="black"/>
<line x1="150" y1="657" x2="450" y2="657" stroke="black"/>
<polygon fill="black" points="450,657 440,663 440,651"/>
<text x="212" y="655" textLength="175" font-family="Helvetica" font-size="10" fill="black">
acknowledge(worker_id=Agg, job_id=2)
</text>
</svg>
