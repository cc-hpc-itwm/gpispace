#!/bin/bash

FILE_INPUT=${1:?}
TYPE_INPUT=${2:?}
FILE_OUTPUT=${3:?}
TYPE_OUTPUT=${4:?}
CMD=${5:?}
SKIPPED_TRACES=${6:?}
MAX_TRACE_COUNT=${7:?}
SHMEM_PER_NODE=${8:?}
GPI_MEM_PER_NODE=${9:?}
SDPA_LIBEXEC=${10:?}

`which sed`                                  \
  "s;@SHMEM_PER_NODE@;${SHMEM_PER_NODE};     \
  ;s;@GPI_MEM_PER_NODE@;${GPI_MEM_PER_NODE}; \
  ;s;@CMD@;${CMD};                           \
  ;s;@FILE_INPUT@;${FILE_INPUT};             \
  ;s;@FILE_OUTPUT@;${FILE_OUTPUT};           \
  ;s;@TYPE_INPUT@;${TYPE_INPUT};             \
  ;s;@TYPE_OUTPUT@;${TYPE_OUTPUT};           \
  ;s;@SKIPPED_TRACES@;${SKIPPED_TRACES};     \
  ;s;@MAX_TRACE_COUNT@;${MAX_TRACE_COUNT};   \
  ;s;@SDPA_LIBEXEC@;${SDPA_LIBEXEC};         "
